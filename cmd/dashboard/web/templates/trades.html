{{if .}}
<div class="overflow-x-auto">
    <table class="w-full text-sm">
        <thead class="bg-gray-700 text-gray-300 uppercase text-xs">
            <tr>
                <th class="px-4 py-3 text-left">Time</th>
                <th class="px-4 py-3 text-left">Ticker</th>
                <th class="px-4 py-3 text-center">Side</th>
                <th class="px-4 py-3 text-right">Qty</th>
                <th class="px-4 py-3 text-right">Avg Price</th>
                <th class="px-4 py-3 text-center">Result</th>
                <th class="px-4 py-3 text-right">P&L</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-gray-700">
            {{range .}}
            <tr class="{{if eq .Result "win"}}bg-green-900 bg-opacity-20 hover:bg-opacity-30{{else if eq .Result "loss"}}bg-red-900 bg-opacity-20 hover:bg-opacity-30{{else}}bg-gray-800 hover:bg-gray-750{{end}} transition-colors">
                <td class="px-4 py-3 whitespace-nowrap text-gray-300">
                    {{.Time}}
                </td>
                <td class="px-4 py-3 font-mono text-xs text-gray-200">
                    {{.Ticker}}
                </td>
                <td class="px-4 py-3 text-center">
                    {{if eq (toupper .Side) "YES"}}
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900 bg-opacity-50 text-blue-300 border border-blue-700">
                        YES
                    </span>
                    {{else}}
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-900 bg-opacity-50 text-orange-300 border border-orange-700">
                        NO
                    </span>
                    {{end}}
                </td>
                <td class="px-4 py-3 text-right font-mono text-gray-200">
                    {{.Quantity}}
                </td>
                <td class="px-4 py-3 text-right font-mono text-gray-200">
                    {{printf "%.0f" .AvgPrice}}c
                </td>
                <td class="px-4 py-3 text-center">
                    {{if eq .Result "win"}}
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-900 bg-opacity-50 text-green-300 border border-green-700">
                            WIN
                        </span>
                    {{else if eq .Result "loss"}}
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-900 bg-opacity-50 text-red-300 border border-red-700">
                            LOSS
                        </span>
                    {{else}}
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-700 text-gray-400 border border-gray-600">
                        OPEN
                    </span>
                    {{end}}
                </td>
                <td class="px-4 py-3 text-right font-mono font-semibold">
                    {{if eq .Result "win"}}
                        <span class="text-green-400">${{printf "%.2f" (divf (float .PnL) 100.0)}}</span>
                    {{else if eq .Result "loss"}}
                        <span class="text-red-400">${{printf "%.2f" (divf (float .PnL) 100.0)}}</span>
                    {{else}}
                    <span class="text-gray-500">-</span>
                    {{end}}
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{else}}
<div class="text-center text-gray-500 py-8">
    <p>No trades found</p>
</div>
{{end}}
